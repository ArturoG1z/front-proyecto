<main class="bg-own">
  <div class="container py-5">
    <div class="row">
      <div class="col-md-9">
        <div class="p-5 card" *ngFor="let artPedido of articulos">
          <i class="fas fa-store"></i>
          <div class="about-product text-center mt-2">
            <img
              src="{{ url + 'articulos/image/get/' + artPedido.articulo.imagen }}"
              *ngIf="artPedido.articulo.imagen"
              width="200"
            />
            <div>
              <h4>{{ artPedido.articulo.nombre }}</h4>
              <h6 class="mt-0 text-black-50">{{ artPedido.articulo.resumen }}</h6>
            </div>
          </div>
          <div class="stats mt-2">
            <div class="d-flex justify-content-between p-price">
              <span>Cantidad en stock</span><span>{{ artPedido.articulo.stock }}</span>
            </div>
            <div class="d-flex justify-content-between p-price">
              <span>Cantidad escogida</span><span>{{ artPedido.cantidad }}</span>
            </div>
            <div class="d-flex justify-content-between p-price">
              <span>Categoria</span><span>{{ artPedido.articulo.categoria }}</span>
            </div>
          </div>
          <div
            class="d-flex justify-content-between total font-weight-bold mt-4"
          >
            <span>Precio</span><span>{{ artPedido.articulo.precio | currency }}</span>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card px-4 py-5">
          <div class="d-flex justify-content-between my-3">
            <span>Total en el carrito</span
            ><span>{{ totalCarrito | currency }}</span>
          </div>
          <div class="d-flex justify-content-between my-3">
            <span>Envio</span><span>$0.00</span>
          </div>
          <form #pedidoForm="ngForm" (ngSubmit)="onSubmit(pedidoForm)">
            <p>
              <label for="usuario" class="form-label">Nombre</label>
              <input
                type="text"
                name="usuario"
                #usuario="ngModel"
                [(ngModel)]="pedido.usuario"
                class="form-control"
                placeholder="Ingresa tu usuario *"
                required
              />
            </p>
            <button
              type="submit"
              class="btn btn-primary my-3 w-100"
              [disabled]="!pedidoForm.form.valid"
            >
              <i class="fas fa-shopping-cart"></i>
              <span> Registrar pedido</span>
            </button>
          </form>

          <button
            class="btn btn-danger my-3"
            (click)="vaciarCarrito()"
            >
            <i class="fas fa-trash"></i>
            <span> Vaciar carrito</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</main>
